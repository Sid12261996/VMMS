@model VMMAPI.Models.VMMOBJ

@{
    ViewBag.Title = "AssignTaskNew";
    Layout = null;
}

@{
    string result_data = string.Empty;
    if (Session["DataResult"] != null)
    {
        result_data = Session["DataResult"].ToString();
    }
    Session["DataResult"] = string.Empty;
}


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>VMM Portal</title>

    <!-- Bootstrap css-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

    <!--Google Icon Font-->
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!--Google Font-->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,700" rel="stylesheet">

    <!-- Propeller css -->
    <link href="~/VmmAssets/css/propeller.min.css" rel="stylesheet">

    <!-- Custom css -->
    <link href="~/VmmAssets/css/style.css" rel="stylesheet">
    <link href="~/VmmAssets/css/responsive.css" rel="stylesheet">

   
    <!-- Select2 css-->
    <link rel="stylesheet" type="text/css" href="../components/select2/css/select2.min.css" />
    <link rel="stylesheet" type="text/css" href="../components/select2/css/select2-bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="../components/select2/css/pmd-select2.css" />

</head>

<body>
    <header>
        <nav class="navbar navbar-fixed-top pmd-navbar pmd-z-depth">
            <div class="container-fluid">
                <input type="hidden" id="taskidhidden" />

                <input type="hidden" id="AssetsIdHidden" />
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button class="pmd-ripple-effect navbar-toggle pmd-navbar-toggle" type="button">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="javascript:void(0);" class="navbar-brand navbar-brand-custome">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="54" height="54" viewBox="0 0 54 54">
                            <defs>
                                <style>
                                    .a {
                                        fill: #279d82;
                                    }

                                    .b {
                                        opacity: 0.14;
                                    }

                                    .c {
                                        fill: #d3d4d7;
                                    }

                                    .d, .i {
                                        fill: #fff;
                                    }

                                    .e {
                                        fill: #1e212a;
                                    }

                                    .f, .g, .h {
                                        opacity: 0.54;
                                    }

                                    .f {
                                        fill: url(#c);
                                    }

                                    .g {
                                        fill: url(#d);
                                    }

                                    .h {
                                        fill: url(#e);
                                    }

                                    .i {
                                        opacity: 0.16;
                                    }

                                    .j {
                                        filter: url(#a);
                                    }
                                </style>
                                <filter id="a" x="0" y="0" width="54" height="54" filterUnits="userSpaceOnUse"><feOffset dy="3" input="SourceAlpha" /><feGaussianBlur stdDeviation="3" result="b" /><feFlood flood-opacity="0.071" /><feComposite operator="in" in2="b" /><feComposite in="SourceGraphic" /></filter>
                                <linearGradient id="c" y1="0.5" x2="1" y2="0.5" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#fff" stop-opacity="0.161" /><stop offset="1" stop-color="#1e212a" stop-opacity="0" /></linearGradient>
                                <linearGradient id="d" y1="0.5" x2="1" y2="0.5" gradientUnits="objectBoundingBox"><stop offset="0" stop-opacity="0.161" /><stop offset="1" stop-color="#1e212a" stop-opacity="0" /></linearGradient>
                                <linearGradient id="e" x1="0" y1="0.5" x2="1" y2="0.5" xlink:href="#d" />
                            </defs>
                            <g transform="translate(9 6)"><g class="j" transform="matrix(1, 0, 0, 1, -9, -6)"><ellipse class="a" cx="18" cy="18" rx="18" ry="18" transform="translate(9 6)" /></g><path class="b" d="M5495.023,2198.976a18,18,0,0,0,17.175-20.444h0l-7.075-7.114-21.517,12.842,4.34,4.363-1.795,1.434Z" transform="translate(-5476.367 -2162.989)" /><ellipse class="c" cx="0.3" cy="0.3" rx="0.3" ry="0.3" transform="translate(17.7 20.7)" /><g transform="translate(7.2 8.383)"><path class="d" d="M5488.979,2190.173h13.461v.588h-13.461Z" transform="translate(-5484.91 -2176.061)" /><path class="e" d="M.2,0H21.4a.2.2,0,0,1,.2.2V10.584a0,0,0,0,1,0,0H0a0,0,0,0,1,0,0V.2A.2.2,0,0,1,.2,0Z" transform="translate(0)" /><path class="d" d="M0,0H21.6a0,0,0,0,1,0,0V2.15a.2.2,0,0,1-.2.2H.2a.2.2,0,0,1-.2-.2V0A0,0,0,0,1,0,0Z" transform="translate(0 10.584)" /><path class="e" d="M5492.944,2188.605h7.514v1.176h-7.514Z" transform="translate(-5485.901 -2175.669)" /><path class="f" d="M5505,2184.293h-6.886v1.176h2.974v.588h-13.461v-.588h2.974v-1.176h-6.886a.152.152,0,0,1-.157-.147V2171.5a.152.152,0,0,1,.157-.147H5505a.153.153,0,0,1,.157.147v12.642A.153.153,0,0,1,5505,2184.293Z" transform="translate(-5483.553 -2171.357)" /><path class="d" d="M5503.127,2194.135l-1.093.653-.006.8,1.093.68h3.46v-2.133Z" transform="translate(-5488.172 -2177.052)" /><g transform="translate(2.343 17.084)"><g transform="translate(6.944 0.718)"><path class="d" d="M5495.937,2195.093v.675h4.568l.007-.675Z" transform="translate(-5495.937 -2195.093)" /><path class="g" d="M5495.937,2195.093v.675h4.568l.007-.675Z" transform="translate(-5495.937 -2195.093)" /></g><path class="e" d="M5487.9,2194.357c-.673,0-1.22.4-1.22.9s.547.9,1.22.9h5.724v-1.8Z" transform="translate(-5486.679 -2194.19)" /><path class="h" d="M5503.131,2194.135l-1.093.653-.005.8,1.093.68h3.458v-2.133Z" transform="translate(-5490.517 -2194.135)" /></g><g transform="translate(7.05 2.482)"><path class="a" d="M5493.879,2177.877a1.623,1.623,0,0,0,.678.281v.259h.544v-.259a1.622,1.622,0,0,0,.678-.281l.183.183.385-.385-.182-.183a1.643,1.643,0,0,0,.28-.677h.259v-.545h-.259a1.65,1.65,0,0,0-.28-.678l.182-.182-.385-.385-.183.183a1.63,1.63,0,0,0-.678-.281v-.259h-.544v.259a1.631,1.631,0,0,0-.678.281l-.183-.183-.386.385.184.182a1.632,1.632,0,0,0-.281.678h-.258v.545h.258a1.625,1.625,0,0,0,.281.677l-.184.183.386.385Zm.444-1.841a.715.715,0,1,1,0,1.011A.715.715,0,0,1,5494.324,2176.035Z" transform="translate(-5492.955 -2174.666)" /><path class="i" d="M5493.879,2178.061a1.62,1.62,0,0,0,.678.281v.259h.544v-.259a1.619,1.619,0,0,0,.678-.281l.183.183.191-.191-.821-.82a.715.715,0,0,1-1.011-1.01l-.821-.821-.19.191.184.182a1.634,1.634,0,0,0-.281.678h-.258V2177h.258a1.628,1.628,0,0,0,.281.678l-.184.183.386.385.183-.183Z" transform="translate(-5492.955 -2174.85)" /><g transform="translate(3.75 2.25)"><path class="a" d="M5498.88,2180.877a1.623,1.623,0,0,0,.678.281v.259h.544v-.259a1.628,1.628,0,0,0,.678-.281l.183.183.384-.385-.182-.183a1.63,1.63,0,0,0,.28-.677h.259v-.545h-.259a1.64,1.64,0,0,0-.28-.678l.182-.182-.384-.385-.183.183a1.63,1.63,0,0,0-.678-.281v-.259h-.544v.259a1.625,1.625,0,0,0-.678.281l-.184-.183-.385.385.183.183a1.634,1.634,0,0,0-.281.678h-.259v.545h.259a1.624,1.624,0,0,0,.281.677l-.183.183.385.385Zm.445-1.842a.715.715,0,1,1,0,1.011A.716.716,0,0,1,5499.325,2179.035Z" transform="translate(-5497.955 -2177.666)" /><path class="i" d="M5498.88,2181.061a1.614,1.614,0,0,0,.678.281v.259h.544v-.259a1.619,1.619,0,0,0,.678-.281l.183.183.19-.191-.82-.82a.715.715,0,0,1-1.012-1.01l-.82-.821-.19.191.183.182a1.633,1.633,0,0,0-.281.678h-.259V2180h.259a1.627,1.627,0,0,0,.281.678l-.183.183.385.385.184-.183Z" transform="translate(-5497.955 -2177.85)" /></g></g></g></g>
                        </svg>
                        <span class="logo-txt">Support Suite</span>
                    </a>
                </div>
                <!-- Collect the nav links, forms, and other content for toggling -->
                <div id="bs-example-navbar-collapse-1" class="collapse navbar-collapse pmd-navbar-sidebar">
                    <div class="dropdown pmd-dropdown pmd-user-info pull-right">
                        <a href="javascript:void(0);" class="btn-user dropdown-toggle media" data-toggle="dropdown" data-sidebar="true" aria-expanded="false">
                            <div class="media-left">
                                
                                @using (Html.BeginForm("Logout", "VMMAssign", FormMethod.Post))
                                {
    <!-- form goes here -->


                                    
                                       <input type="submit" value = ""  class="logout-icon"/>
                                    

                                }
                            </div>
                          
                        </a>
                      
                    </div>
                    <ul class="nav navbar-nav">
                        <li>
                            <a class="pmd-ripple-effect active" href="@Url.Action("AssignTaskNew1", "VMMAssign")" ;">
                                <i class="material-icons">
                                    add
                                </i> <span>Assign New</span>
                            </a>
                        </li>
                        <li>
                            <a class="pmd-ripple-effect " href="@Url.Action("ShowTransactionDetails", "VMMAssign")" ;">
                                <i class="material-icons">
                                    brightness_low
                                </i> <span>In Progress</span>
                            </a>
                        </li>
                        <li>
                            <a class="pmd-ripple-effect" href="@Url.Action("ViewSummaryReport", "VMMAssign")" ;">
                                <i class="material-icons">
                                    done_all
                                </i> <span>Summary Report</span>
                            </a>
                        </li>
                        <li>
                            <a class="pmd-ripple-effect" href="@Url.Action("ViewDashBoardReport", "VMMAssign")" ;">
                                <i class="material-icons">
                                    done_all
                                </i> <span>Detailed Reports</span>
                            </a>
                        </li>
                        <li>
                            <a class="pmd-ripple-effect" href="@Url.Action("AddIE", "IE")" ;">
                                <i class="material-icons">
                                    done_all
                                </i> <span>IE</span>
                            </a>
                        </li>
                    </ul>

                    <div class="vmm-txt pull-right">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="108" height="30" viewBox="0 0 108 30">
                            <defs>
                                <style>
                                    .aa {
                                        fill: #ebeaec;
                                    }
                                </style>
                            </defs>
                            <path class="aa" d="M126.354,2518.688l11.523-20.485a.366.366,0,0,1,.32-.18H141.7a.336.336,0,0,1,.323.483l-15.656,28.908a.375.375,0,0,1-.646,0l-15.656-28.908a.336.336,0,0,1,.323-.483H113.9a.366.366,0,0,1,.32.18l11.5,20.485A.375.375,0,0,0,126.354,2518.688Zm37.44,7.048,11.248-13.84a.366.366,0,0,1,.65.2v15.592a.348.348,0,0,0,.361.333l3.339,0a.349.349,0,0,0,.361-.335v-28.6a.366.366,0,0,0-.654-.2l-15.3,19.593a.379.379,0,0,1-.585,0l-15.3-19.593a.366.366,0,0,0-.654.2v28.6a.349.349,0,0,0,.361.335l3.339,0a.348.348,0,0,0,.361-.333V2512.1a.366.366,0,0,1,.65-.2l11.248,13.84A.38.38,0,0,0,163.795,2525.736Zm22.393-26.847a.366.366,0,0,0-.654.2v28.6a.349.349,0,0,0,.361.335l3.339,0a.348.348,0,0,0,.361-.333V2512.1a.366.366,0,0,1,.65-.2l11.248,13.84a.38.38,0,0,0,.577,0l11.248-13.84a.366.366,0,0,1,.65.2v15.592a.348.348,0,0,0,.361.333l3.339,0a.349.349,0,0,0,.361-.335v-28.6a.366.366,0,0,0-.654-.2l-15.3,19.593a.379.379,0,0,1-.585,0Z" transform="translate(-110.028 -2498.023)" />
                        </svg>
                    </div>
                </div><!-- /.navbar-collapse -->
            </div><!-- /.container-fluid -->
            <div class="pmd-sidebar-overlay"></div>
        </nav>
        <!-- Nav menu with user information -->

    </header>

    <form id="second_form" method="post" action="">
        <div class="section">
            @using (Html.BeginForm())
            {

                @Html.AntiForgeryToken()
                <input type="hidden" id="HiddenRowCount" name="HiddenRowCount" />
                <input type="hidden" id="HiddenRowCountPhysical" name="HiddenRowCountPhysical" />
                <input type="hidden" id="HiddenActType" name="HiddenActType" value="M" />//isme vaklue kha hai
                                                                              
                <input type="hidden" id="HiddenVendor" name="HiddenVendor" />
                <input type="hidden" id="HiddenToggle" name="HiddenToggle" value="SAE" />

                <section class="sel-dat top-m">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="row">
                                    <!--Simple select -->
                                    <div class="col-md-6">
                                        <div class="form-group pmd-textfield">
                                            <label><img src="~/VmmAssets/images/user-icon.png" alt="user icon"> <span>Customer Name</span></label>

                                            @Html.DropDownList("ddlCustName", new List<SelectListItem>
                                       {


                                       }, "SELECT ", new { @class = "select-with-search form-control pmd-select2" })
                                            @Html.ValidationMessageFor(model => model.ddlCustName, "", new { @class = "text-danger" })

                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group pmd-textfield col-md-6 nos">
                                            <div class="form-group pmd-textfield">
                                                <label><img src="~/VmmAssets/images/activity-type.png" alt="activity type icon"> <span>Task Type</span></label>
                                                <div class="pmd-switch">
                                                    <label>
                                                        <input type="checkbox" id="toggle" value="SAE">
                                                        <span class="pmd-switch-label"></span>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group pmd-textfield col-md-12 nos">
                                            <div class="form-group pmd-textfield">
                                                <label><img src="~/VmmAssets/images/activity-type.png" alt="activity type icon"> <span>Activity Type</span></label>
                                                <div class="pmd-switch">
                                                    <div class="rad-btn">
                                                        <label class="rad-btn1 monthly">
                                                            <input type="radio" checked="checked" name="activityType" value="m">
                                                            <span class="checkmark"></span>
                                                        </label>
                                                        <label class="rad-btn1 quaterly">
                                                            <input type="radio" name="activityType" value="q">
                                                            <span class="checkmark"></span>
                                                        </label>
                                                        <label class="rad-btn1 one-time">
                                                            <input type="radio" name="activityType" value="o">
                                                            <span class="checkmark"></span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group pmd-textfield col-md-10 nos">
                                            <label><img src="~/VmmAssets/images/no-of-activities.png" alt="Address"> <span>Address</span></label>

                                            @Html.TextBoxFor(m => m.txtAddress, new { @class = "form-control" })
                                            @Html.ValidationMessageFor(m => m.txtAddress, "", new { @class = "text-danger error-set" })
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group pmd-textfield col-md-10 nos">
                                            <label><img src="~/VmmAssets/images/no-of-activities.png" alt="ContactNo"> <span>Contact No.</span></label>

                                            @Html.TextBoxFor(m => m.txtContactNo, new { @class = "form-control" })
                                            @Html.ValidationMessageFor(m => m.txtContactNo, "", new { @class = "text-danger error-set" })
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group pmd-textfield col-md-10 nos">
                                            <label><img src="~/VmmAssets/images/no-of-activities.png" alt="SPOC"> <span>Spoc Name</span></label>

                                            @Html.TextBoxFor(m => m.txtSpocName, new { @class = "form-control" })
                                            @Html.ValidationMessageFor(m => m.txtSpocName, "", new { @class = "text-danger error-set" })
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="form-group pmd-textfield col-md-10 nos">
                                            <label><img src="~/VmmAssets/images/no-of-activities.png" alt="SPOC"> <span>State</span></label>

                                            @Html.TextBoxFor(m => m.txtState, new { @class = "form-control" })
                                            @Html.ValidationMessageFor(m => m.txtState, "", new { @class = "text-danger error-set" })
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-md-5">
                                <div class="form-group pmd-textfield">
                                    <label><img src="~/VmmAssets/images/city.png" alt="city icon"> <span>City</span></label>
                                    @Html.DropDownList("ddlCity", new List<SelectListItem>
                               {


                               }, "SELECT ", new { @class = "select-with-search form-control pmd-select2" })
                                    @Html.ValidationMessageFor(model => model.ddlCity, "", new { @class = "text-danger" })
                                </div>
                            </div>
                            <div class="col-md-7">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group pmd-textfield col-md-6 nos">
                                            <label><img src="~/VmmAssets/images/city.png" alt="city icon"> <span>Assest Type</span></label>


                                            @Html.DropDownList("ddlAssestType", new List<SelectListItem>
                                       {


                                       }, "SELECT ", new { @class = "select-with-search form-control pmd-select2" })
                                            @Html.ValidationMessageFor(model => model.ddlAssestType, "", new { @class = "text-danger" })



                                        </div>

                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group pmd-textfield col-md-10 nos">
                                            <label><img src="~/VmmAssets/images/no-of-activities.png" alt="number of activities icon"> <span>Number of Assets</span></label>
                                            @Html.TextBoxFor(m => m.txtAssestNo, new { @class = "form-control" })
                                            @Html.ValidationMessageFor(m => m.txtAssestNo, "", new { @class = "text-danger error-set" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>



                <section class="res-box">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-md-5">
                                <h2><img src="~/VmmAssets/images/list.png" alt="list icon"> Engineers/Vendors in the searched city</h2>
                                <!-- Hoverable table -->
                                <div class="pmd-card pmd-z-depth">
                                    <div class="table-responsive do-nicescroll3" id="pnlVendorList" style="height:200px;">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-7">
                                <h2><img src="~/VmmAssets/images/list.png" alt="list icon"> Activities to be Performed</h2>
                                <div class="row atp">
                                    <div class="hcu">
                                        <h2><img src="~/VmmAssets/images/health-chk-act.png" alt="list icon"> Health Check-up activities </h2>
                                        <div class="hcr-cvr do-nicescroll3" id="pnltaskHealth">
                                        </div>
                                    </div>
                                    <div class="pav">
                                        <h2><img src="~/VmmAssets/images/list.png" alt="list icon"> Physical Assets Verification Activities </h2>
                                        <div class="hcr-cvr do-nicescroll3" id="pnltask">
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>@*/wait karo*@
                    </div>
                </section>
                <div class="btn-box">

                    <button type="reset" id="btnReset" class="btn pmd-btn-raised pmd-ripple-effect btn-danger">Reset</button>
                    <input type="submit" id="clickButton" name="SubmitButton" class="btn pmd-btn-raised pmd-ripple-effect btn-success" value="Submit" />
                </div>

                <a class="btn purple btn-outline sbold" data-toggle="modal" href="#success_msg_popup" id="success_msg" style="display:none;"></a>
                <div id="success_msg_popup" class="modal fade" tabindex="-1" data-backdrop="static" data-keyboard="false">
                    <div class="modal-dialog" style="border:2px solid #3598dc; width:30%;">
                        <div class="modal-content">
                            <div class="modal-body" style="overflow:auto;max-height:400px;">
                                <p style="margin:0px; color:green; text-align:center; font-weight:bold; font-size:14px;">Task Assign has been Sucessfully Submitted.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- jQuery before Propeller.js -->


            }
        </div>

    </form>


    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <script type="text/javascript" src="~/VmmAssets/js/propeller.min.js"></script>

    <script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="~/VmmAssets/js/jquery.nicescroll.min.js"></script>

    <!-- Datatable select js-->
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/select/1.2.0/js/dataTables.select.min.js"></script>
    <!-- Select2 js-->
    <script type="text/javascript" src="../components/select2/js/select2.full.js"></script>
    <script type="text/javascript" src="../components/select2/js/pmd-select2.js"></script>
    <script>
        $(".do-nicescroll3").niceScroll();
        $(document).ready(function () {
            $("#HiddenActType").val('M');//yaha captial m liko

            $(".rad-btn input[type='radio']").on('change', function () {
                var selectedValue = $("input[name='activityType']:checked").val();
                if (selectedValue) {
                    var AvtivityType = selectedValue;
                    $("#HiddenActType").val(AvtivityType);
                }
            });
        });
    </script>

    <script type="text/javascript">


   //Disable Back Button In All Browsers.
        function DisableBackButtonAllBrowsers() {
            window.history.forward()
        };
         DisableBackButtonAllBrowsers();
        window.onload = DisableBackButtonAllBrowsers;
         window.onpageshow = function (evts) { if (evts.persisted) DisableBackButtonAllBrowsers(); };
        window.onunload = function () { void (0) };
    </script>

    <script type="text/javascript">



    $(document).ready(function () {
        LoadCustomer();
        LoadCity();
        LoadAssetsType();

        $("#ddlCity").change(function () {

            var drpMainid = $('#ddlCity option:selected').val();
            LoadVendor(drpMainid);


        });

        LoadTaskMasterPhysical();
        LoadTaskMaster();

        $("#btnLogout").click(function () {
            var url = '@Url.Action("LogOut", "VMMAssign")';
            $.getJSON(url, function (result) {

            });
        });


        var result_data = '@result_data';

        if (result_data == 'True') {

            $("#success_msg").trigger('click');
            setTimeout(function () {

                $('#success_msg_popup').modal('hide')
            }, 5000);
            // result_data = '';
            // SetUserName();
        }



        $(".select-with-search").select2({
            theme: "bootstrap"
        });


        $(".do-nicescroll3").niceScroll();


        $(".pmd-switch input").change(function () {
            if ($(this).is(":checked")) {
                var vartoggle = $(this).val("SRE");


            }
            else {
                var vartoggle =  $(this).val("SAE");

            }
        });



        $("#clickButton").click(function () {


            var toggle=$("#toggle").val();
            $("#HiddenToggle").val(toggle);

           // alert(toggle)

            $("#second_form").validate({
                rules: {
                    ddlCity: {
                        required: true
                    },
                    ddlCustName: {
                        required: true
                    },
                    txtAssestNo: {
                        required: true
                    },
                    ddlAssestType: {
                        required: true
                    },


                },
                messages: {
                    ddlCity: '',
                    ddlCustName: '', txtAssestNo: '', ddlAssestType:''


                },
                submitHandler: function (form) {

                    if ($('#pnltaskHealth div').find('input[type="checkbox"]').is(':checked') || $('#pnltask div').find('input[type="checkbox"]').is(':checked')) {
                    if ($('#tblTaskList tbody').find('td input[type="radio"]').is(':checked')) {
                        var taskActivityId = "";
                        debugger;






                        var r = confirm("Are you sure you want to submit the activty?");
                        if (r == true) {

                            // HiddenVendor
                            var venid = $('#tblTaskList tbody').find('td input[type="radio"]:checked').closest("tr").find('td #HiddenVendorId').val();
                            $("#HiddenVendor").val(venid);
                            form.submit();
                            retflag = true;
                        } else {
                            retflag = false
                        }

                        if (retflag) {
                            retflag = true;
                        }
                    }
                    else {

                        alert('Please select Vendor');
                        return (false);
                    }

                    }
                    else {
                        alert('Please select atleast one Activity');
                        return (false);
                    }

                }
            });






        });

        function LoadCustomer() {


            var url = '@Url.Action("LoadCustomer", "VMMAssign")';


            debugger;
            $.getJSON(url, function (result) {
                var data = result;
                $("#ddlCustName").empty();

                $("#ddlCustName").append('<option selected="selected"  ></option>');
                $.each(eval(data.replace(/[\r\n]/, "")), function (i, item) {

                    $("#ddlCustName").append($('<option/>', { value: item.CustId, text: item.CustName }));

                });
            });
        }

        function LoadVendor(Cityname) {


           var url = '@Url.Action("LoadVendorCity", "VMMAssign")';
            var url_com = url + "?City=" + Cityname;


            $.getJSON(url_com, function (result) {
                $("#pnlVendorList").empty();
                var table = $('#tblVendorList').DataTable();
                table.destroy();
                var tempTable = "<table id='tblTaskList' width='100%' Class='table pmd-table table-hover'><thead><tr><th colspan='2'>Showing Engineers/Vendors in <strong></strong></th> </tr></thead>";


                var data = result;
                var rowcount = 0;

                $.each(eval(data.replace(/[\r\n]/, "")), function (i, item) {
                    rowcount = rowcount + 1;

                    tempTable += "<tr >";


                    tempTable += "<td style='width:85%'>" + item.Name + "<input id='HiddenVendorId' type='hidden' name='HiddenVendorId'  value=" + item.VendorId + " /></td>";
                    tempTable += "<td><label class='container2'><input type='radio'  name='radio' id='rdoCHK'> <span class='checkmark11'></span></label></td>";
                    tempTable += "";


                    tempTable += "</tr>";

                });



                tempTable += "</tbody>";
                tempTable += "</table>";
                $("#pnlVendorList").append(tempTable);


                $('#tblVendorList').dataTable({
                    "bPaginate": false,
                    "searching": false,
                    "bSort": true,
                    "info": false,

                    dom: 'Bfrtip',
                    "lengthMenu": [[5, 25, 50, -1], [5, 25, 50, "All"]],
                    buttons: ['copyHtml5',
        {
            extend: 'excelHtml5',
            title: 'Attendance Report'
        },

        {
            extend: 'colvis',
            columns: ':not(:first-child)',
        }
                    ]

                });
            });
        }


        function LoadCity() {


            var url = '@Url.Action("LoadCity", "VMMAssign")';

            $.getJSON(url, function (result) {
                var data = result;
                $("#ddlCity").empty();
                $("#ddlCity").append('<option selected="selected"  ></option>');
                $.each(eval(data.replace(/[\r\n]/, "")), function (i, item) {

                    $("#ddlCity").append($('<option/>', { value: item.City, text: item.City }));

                });
            });
        }


        //ddlAssestType

        function LoadAssetsType() {


           var url = '@Url.Action("LoadAssetType", "VMMAssign")';


            debugger;
            $.getJSON(url, function (result) {
                var data = result;
                $("#ddlAssestType").empty();

                $("#ddlAssestType").append('<option selected="selected"  ></option>');
                $.each(eval(data.replace(/[\r\n]/, "")), function (i, item) {

                   // alert(item.AssestTypeId);

                    $("#ddlAssestType").append($('<option/>', { value: item.AssestTypeId, text: item.AssetsType }));

                });
            });
        }

      





        function LoadTaskMaster() {


            var url = '@Url.Action("LoadTask", "VMMAssign")';
            $.getJSON(url, function (result) {
                $("#pnltaskHealth").empty();
                var table = $('#pnltaskHealth');


                var data = result;
                var rowcount = 0;

                $.each(eval(data.replace(/[\r\n]/, "")), function (i, item) {


                    rowcount = rowcount + 1;
                    table.append("<div class='hcr-rep'> <label class='container1'> " + item.TaskName + " <input type='checkbox' name='chkBox" + i + "' id='chkBox" + i + "'><input id='hiddenCName" + i + "' type='hidden' name='hiddenCName" + i + "'  value=" + item.TaskId + " /> <span class='checkmark'></span> </label>");

                    table.append("</div>");



                });


                $("#HiddenRowCount").val(rowcount);

            });
        }





        function LoadTaskMasterPhysical() {


            var url = '@Url.Action("LoadTaskPhysical", "VMMAssign")';
            $.getJSON(url, function (result) {
                var data = result;


                $("#pnltask").empty();
                var table = $('#pnltask');


                var data = result;
                var rowcount = 0;


                $.each(eval(data.replace(/[\r\n]/, "")), function (i, item) {


                    rowcount = rowcount + 1;
                    table.append("<div class='hcr-rep'> <label class='container1'> " + item.TaskName + " <input type='checkbox' name='chkBoxP" + i + "' id='chkBoxP" + i + "'><input id='hiddenCNameP" + i + "' type='hidden' name='hiddenCNameP" + i + "'  value=" + item.TaskId + " /> <span class='checkmark'></span> </label>");

                    table.append("</div>");



                });



                $("#HiddenRowCountPhysical").val(rowcount);






            });
        }
    });
    </script>


   

</body>

</html>
